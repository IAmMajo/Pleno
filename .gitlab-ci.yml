stages:
  - build

tdo-swiftkotlin:
    stage: build
    script:
        - ./translate-dtos.sh
        - git add *
        - git status
        - git commit -m "${SWIFTKOTLIN_COMMIT_MESSAGE}"
        - git push -o ci.skip "https://gitlab-ci-token:${PROJECT_ACCESS_TOKEN}@${CI_SERVER_HOST}/${CI_PROJECT_PATH}.git" HEAD:${CI_COMMIT_BRANCH}
    rules:
      - if: $CI_COMMIT_BRANCH == "${DTOS_STAGING_BRANCH}" && $CI_PIPELINE_SOURCE == "push"

